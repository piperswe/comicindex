(function(e){function t(t){for(var r,i,c=t[0],o=t[1],s=t[2],f=0,b=[];f<c.length;f++)i=c[f],Object.prototype.hasOwnProperty.call(u,i)&&u[i]&&b.push(u[i][0]),u[i]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r]);l&&l(t);while(b.length)b.shift()();return a.push.apply(a,s||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,c=1;c<n.length;c++){var o=n[c];0!==u[o]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},u={app:0},a=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/comicindex/browser/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=t,c=c.slice();for(var s=0;s<c.length;s++)t(c[s]);var l=o;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"034f":function(e,t,n){"use strict";n("85ec")},1:function(e,t){},10:function(e,t){},"1aa7":function(e,t,n){"use strict";n("fca0")},2:function(e,t){},3:function(e,t){},4:function(e,t){},5:function(e,t){},6:function(e,t){},7:function(e,t){},8:function(e,t){},"85ec":function(e,t,n){},9:function(e,t){},b7f7:function(e,t){e.exports="data:application/x-sql;base64,U0VMRUNUIHMuaWQsCiAgICAgICBzLm9zbV9pZCwKICAgICAgIHMubmFtZSwKICAgICAgIHMucGhvbmVfbnVtYmVyLAogICAgICAgcy5lbWFpbF9hZGRyZXNzLAogICAgICAgcy53ZWJzaXRlLAogICAgICAgYS5saW5lXzEsCiAgICAgICBhLmxpbmVfMiwKICAgICAgIGEuY2l0eSwKICAgICAgIGEucmVnaW9uLAogICAgICAgYS5wb3N0YWxfY29kZSwKICAgICAgIGEuY291bnRyeQpGUk9NIHN0b3JlcyBzCiAgICAgICAgIExFRlQgSk9JTiBhZGRyZXNzZXMgYSBvbiBhLmlkID0gcy5hZGRyZXNz"},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),u=n("5f5b"),a=n("b1e0"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[e._m(0),n("Querier",{attrs:{db:e.db}}),n("div",{staticClass:"container"},[n("h2",[e._v("Licenses")]),n("ul",e._l(e.licenses,(function(t){return n("li",{key:t},[e._v(e._s(t))])})),0)])],1)},c=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("h1",[e._v("comicindex data explorer")]),n("p",[e._v("query automatically runs as you type")])])}],o=n("3835"),s=n("1da1"),l=n("d4ec"),f=n("bee2"),b=n("262e"),d=n("2caf"),p=(n("96cf"),n("d81d"),n("d3b7"),n("ddb0"),n("ac1f"),n("3ca3"),n("5cc6"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("9ab4")),h=n("1b40"),g=n("fdac4"),y=n.n(g),v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"querier"},[n("b-button",{attrs:{variant:"danger"},on:{click:e.resetQuery}},[e._v("reset query")]),n("prism-editor",{staticClass:"query",attrs:{highlight:e.highlighter,"line-numbers":""},model:{value:e.query,callback:function(t){e.query=t},expression:"query"}}),e.result?n("b-table-simple",{staticClass:"table"},[n("b-thead",[n("b-tr",e._l(e.result.columns,(function(t){return n("b-th",{key:JSON.stringify({column:t}),attrs:{scope:"col"}},[e._v(" "+e._s(t)+" ")])})),1)],1),n("b-tbody",e._l(e.result.values,(function(t,r){return n("b-tr",{key:r},e._l(t,(function(t,u){return n("b-td",{key:r+"-"+u},[e.isURL(t)?n("a",{attrs:{href:t}},[e._v(e._s(t))]):e.isPhoneNumber(t)?n("a",{attrs:{href:"tel:"+t}},[e._v(e._s(t))]):e.isEmail(t)?n("a",{attrs:{href:"mailto:"+t}},[e._v(e._s(t))]):e.isOSM(t)?n("a",{attrs:{href:e.osmLink(t)}},[e._v(e._s(t))]):n("span",[e._v(e._s(t))])])})),1)})),1)],1):e._e()],1)},m=[],w=(n("99af"),n("e57a")),_=(n("cabf"),n("c197"));n("af8a"),n("84bf");function k(e){return"string"===typeof e}var O=function(e){Object(b["a"])(r,e);var t=Object(d["a"])(r);function r(){var e;return Object(l["a"])(this,r),e=t.apply(this,arguments),e.queryValue="",e.defaultQueryValue=null,e}return Object(f["a"])(r,[{key:"query",get:function(){return this.queryValue},set:function(e){localStorage.setItem("query",e),this.queryValue=e}},{key:"defaultQuery",get:function(){return null==this.defaultQueryValue&&(this.defaultQueryValue=fetch(n("b7f7")).then((function(e){return e.text()}))),this.defaultQueryValue}},{key:"created",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.t0=localStorage.getItem("query"),e.t0){e.next=5;break}return e.next=4,this.defaultQuery;case 4:e.t0=e.sent;case 5:this.query=e.t0;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"resetQuery",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.defaultQuery;case 2:this.query=e.sent;case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"result",get:function(){console.log("Querying:",this.query);try{return this.db?this.db.exec(this.query)[0]:null}catch(e){return console.warn(e),null}}},{key:"isURL",value:function(e){if(!k(e))return!1;var t=/(?![^<]*>|[^<>]*<\/)((https?:)\/\/[a-z0-9&#=./\-?_]+)/gi;return t.test(e)}},{key:"isPhoneNumber",value:function(e){if(!k(e))return!1;var t=/^\+?[\s\-\d()]{10,}$/;return t.test(e)}},{key:"isEmail",value:function(e){if(!k(e))return!1;var t=/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/;return t.test(e)}},{key:"isOSM",value:function(e){if(!k(e))return!1;var t=/^[NWR]\d+$/;return t.test(e)}},{key:"osmLink",value:function(e){if(!k(e))return"";var t={N:"node",W:"way",R:"relation"};return"https://openstreetmap.org/".concat(t[e.substring(0,1)],"/").concat(e.substring(1))}},{key:"highlighter",value:function(e){return Object(_["highlight"])(e,_["languages"].sql,"sql")}}]),r}(h["c"]);Object(p["a"])([Object(h["b"])()],O.prototype,"db",void 0),O=Object(p["a"])([Object(h["a"])({components:{PrismEditor:w["a"]}})],O);var A=O,C=A,I=(n("1aa7"),n("2877")),j=Object(I["a"])(C,v,m,!1,null,"181be4ec",null),x=j.exports,q=function(e){Object(b["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.db=null,e}return Object(f["a"])(n,[{key:"licenses",get:function(){return this.db?this.db.exec("SELECT license FROM licenses")[0].values.map((function(e){return e[0]})):null}},{key:"created",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,r,u,a,i,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=y()({locateFile:function(e){return"https://sql.js.org/dist/".concat(e)}}),n=fetch("https://piperswe.github.io/comicindex/comic.index").then((function(e){return e.arrayBuffer()})),e.next=4,Promise.all([t,n]);case 4:r=e.sent,u=Object(o["a"])(r,2),a=u[0],i=u[1],c=new a.Database(new Uint8Array(i)),window.db=c,this.db=c;case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(h["c"]);q=Object(p["a"])([Object(h["a"])({components:{Querier:x}})],q);var S=q,R=S,N=(n("034f"),Object(I["a"])(R,i,c,!1,null,null,null)),Q=N.exports,E=n("9483");Object(E["a"])("".concat("/comicindex/browser/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});n("f9e3"),n("2dd8");r["default"].config.productionTip=!1,r["default"].use(u["a"]),r["default"].use(a["a"]),new r["default"]({render:function(e){return e(Q)}}).$mount("#app")},fca0:function(e,t,n){}});
//# sourceMappingURL=app.f9ff3801.js.map